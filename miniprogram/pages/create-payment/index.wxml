<view class="create-container">
  <form bindsubmit="submitForm">
    <!-- åŸºæœ¬ä¿¡æ¯å¡ç‰‡ -->
    <view class="form-card">
      <view class="card-title">
        <text class="icon">ğŸŒ¸</text>
        <text>åŸºæœ¬ä¿¡æ¯</text>
      </view>
      
      <view class="form-item">
        <text class="label required">æ´»åŠ¨åç§°</text>
        <input 
          class="input" 
          name="title" 
          placeholder="ç»™æ´»åŠ¨èµ·ä¸ªå¯çˆ±çš„åå­—å§~" 
          value="{{formData.title}}" 
          bindinput="onTitleInput" 
        />
      </view>

      <view class="form-item">
        <text class="label required">å¼€å§‹æ—¶é—´</text>
        <view class="time-container">
          <picker
            mode="multiSelector"
            range="{{[dateOptions, timeOptions]}}"
            value="{{startPickerValue}}"
            bindchange="onStartDateTimeChange"
          >
            <view class="picker {{(formData.startDate && formData.startTime) ? '' : 'empty'}}">
              <text class="icon">ğŸ•’</text>
              <text>{{(formData.startDate && formData.startTime) ? (formData.startDate + ' ' + formData.startTime) : 'é€‰æ‹©å¼€å§‹æ—¥æœŸæ—¶é—´'}}</text>
            </view>
          </picker>
        </view>
      </view>

      <view class="form-item">
        <text class="label required">ç»“æŸæ—¶é—´</text>
        <view class="time-container">
          <picker
            mode="multiSelector"
            range="{{[dateOptions, timeOptions]}}"
            value="{{endPickerValue}}"
            bindchange="onEndDateTimeChange"
          >
            <view class="picker {{(formData.endDate && formData.endTime) ? '' : 'empty'}}">
              <text class="icon">â°</text>
              <text>{{(formData.endDate && formData.endTime) ? (formData.endDate + ' ' + formData.endTime) : 'é€‰æ‹©ç»“æŸæ—¥æœŸæ—¶é—´'}}</text>
            </view>
          </picker>
        </view>
      </view>

      <view class="form-item">
        <text class="label">æ´»åŠ¨åœ°ç‚¹ï¼ˆå¯é€‰ï¼‰</text>
        <view class="location-picker" bindtap="chooseLocation">
          <text class="icon">ğŸ“</text>
          <text class="location-text {{!formData.location.name && 'empty'}}">
            {{formData.location.name || 'ç‚¹å‡»é€‰æ‹©æ´»åŠ¨åœ°ç‚¹~'}}
          </text>
        </view>
      </view>

      <view class="form-item">
        <text class="label">äººæ•°é™åˆ¶</text>
        <input 
          class="input" 
          type="number" 
          name="maxParticipants" 
          placeholder="ä¸å¡«åˆ™ä¸é™åˆ¶äººæ•°å“¦~" 
          value="{{formData.maxParticipants}}" 
        />
      </view>
    </view>

    <!-- æ”¶æ¬¾è®¾ç½®å¡ç‰‡ -->
    <view class="form-card">
      <view class="card-title">
        <text class="icon">ğŸ’°</text>
        <text>æ”¶æ¬¾è®¾ç½®</text>
      </view>

      <view class="form-item">
        <text class="label required">äººå‡é¢„æ”¶æ¬¾é‡‘é¢</text>
        <view class="payment-input">
          <input 
            class="input" 
            type="digit" 
            name="paymentAmount" 
            placeholder="è¯·è¾“å…¥æ¯äººéœ€è¦é¢„å…ˆæ”¯ä»˜çš„é‡‘é¢" 
            value="{{formData.paymentAmount}}"
            bindinput="onPaymentAmountInput"
          />
        </view>
      </view>

      <view class="form-item">
        <text class="label">æ´»åŠ¨é¢„ä¼°æ€»ä»·ï¼ˆå¯é€‰ï¼‰</text>
        <view class="payment-input">
          <input 
            class="input" 
            type="digit" 
            name="totalAmount" 
            placeholder="è¯·è¾“å…¥æ´»åŠ¨é¢„ä¼°æ€»ä»·" 
            value="{{formData.totalAmount}}"
            bindinput="onTotalAmountInput"
          />
        </view>
        <text class="tips">æ´»åŠ¨ç»“æŸåå°†é€€æ¬¾å¤šä½™çš„æŠ¼é‡‘</text>
      </view>
    </view>

    <!-- æ´»åŠ¨è¯¦æƒ…å¡ç‰‡ -->
    <view class="form-card">
      <view class="card-title">
        <text class="icon">ğŸ’</text>
        <text>æ´»åŠ¨è¯¦æƒ…</text>
      </view>
      
      <view class="form-item">
        <text class="label">æ´»åŠ¨ç®€ä»‹</text>
        <textarea 
          class="textarea" 
          name="description" 
          placeholder="å†™ç‚¹ä»€ä¹ˆæ¥ä»‹ç»è¿™ä¸ªæ´»åŠ¨å§~" 
          maxlength="500" 
          value="{{formData.description}}" 
          bindinput="onDescriptionInput"
        />
        <text class="word-count">{{descriptionLength}}/500</text>
      </view>
    </view>

    <button class="submit-btn" form-type="submit">
      <text class="icon">ğŸ€</text>
      <text>åˆ›å»ºæ´»åŠ¨</text>
    </button>
  </form>

  <!-- å­é¡µé¢ä¸æ˜¾ç¤ºç³»ç»Ÿ tabBarï¼šè¿™é‡Œæä¾›è¿”å›ä¸»ç•Œé¢å…¥å£ -->
  <view class="subpage-footer-nav">
    <view class="nav-item" bindtap="goToTab" data-index="0">
      <icon type="success" size="22" />
      <text>å·²æ³¨å†Œ</text>
    </view>
    <view class="nav-item active" bindtap="goToTab" data-index="1">
      <icon type="add" size="22" />
      <text>åˆ›å»º</text>
    </view>
    <view class="nav-item" bindtap="goToTab" data-index="2">
      <icon type="personal" size="22" />
      <text>æˆ‘çš„</text>
    </view>
  </view>
</view> 