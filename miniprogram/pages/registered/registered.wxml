<view class="registered-container">
  <view class="event-list">
    <view class="event-item" wx:for="{{events}}" wx:key="_id" bindtap="goToEventDetail" data-id="{{item._id}}">
      <view class="event-header">
        <text class="event-title">{{item.title}}</text>
        <view class="event-badges">
          <text class="event-status {{item.statusClass}}">{{item.statusText}}</text>
          <text class="event-mode {{item.mode === 'payment' ? 'payment-mode' : 'gugu-mode'}}">
            {{item.mode === 'payment' ? 'æ”¶æ¬¾æ¨¡å¼' : 'å’•å’•æ¨¡å¼'}}
          </text>
        </view>
      </view>
      
      <view class="event-info">
        <view class="info-item">
          <text class="icon">ğŸ“…</text>
          <text>{{item.startTimeText}}</text>
        </view>
        <view class="info-item">
          <text class="icon">â°</text>
          <text>{{item.endTimeText}}</text>
        </view>
        <view class="info-item">
          <text class="icon">ğŸ“</text>
          <text>{{(item.location && item.location.name) ? item.location.name : 'åœ°ç‚¹æœªå¡«å†™'}}</text>
        </view>
        
        <!-- æ ¹æ®æ¨¡å¼æ˜¾ç¤ºä¸åŒä¿¡æ¯ -->
        <view class="info-item" wx:if="{{item.mode === 'payment'}}">
          <text class="icon">ğŸ’°</text>
          <text>{{item.paymentAmount}}å…ƒ/äºº</text>
          <text class="payment-status" wx:if="{{item.creator === userInfo.openId}}">
            (å·²æ”¶æ¬¾: {{item.totalPayment || 0}}å…ƒ)
          </text>
        </view>
        <view class="info-item" wx:else>
          <text class="icon">ğŸ¯</text>
          <text>{{item.regretPointsRequired}}å’•å’•ç‚¹</text>
        </view>
      </view>
    </view>
  </view>

  <!-- ç©ºçŠ¶æ€æç¤º -->
  <view class="empty-state" wx:if="{{events.length === 0}}">
    <text>è¿˜æ²¡æœ‰å‚åŠ ä»»ä½•æ´»åŠ¨å‘¢~</text>
    <text>å¿«å»åˆ›å»ºæˆ–åŠ å…¥ä¸€ä¸ªæ´»åŠ¨å§ï¼</text>
  </view>
</view> 