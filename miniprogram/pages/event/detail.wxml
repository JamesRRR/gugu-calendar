<view class="event-container">
  <!-- 事件卡片 -->
  <view class="event-card">
    <view class="event-title">{{event.title}}</view>
    
    <!-- 基本信息区域 -->
    <view class="info-section">
      <view class="info-item">
        <image class="icon" src="/images/time.png" />
        <text>{{event.date}} {{event.time}}</text>
      </view>
      <view class="info-item">
        <image class="icon" src="/images/location.png" />
        <text>{{event.location}}</text>
      </view>
      <view class="info-item">
        <image class="icon" src="/images/people.png" />
        <text>{{event.participants.length}}{{event.maxParticipants ? '/' + event.maxParticipants : ''}} 人参加</text>
      </view>
    </view>

    <!-- 详细描述 -->
    <view class="description-section">
      <text class="description-title">活动详情</text>
      <text class="description-content">{{event.description}}</text>
    </view>

    <!-- 参与者列表 -->
    <view class="participants-section">
      <text class="section-title">参与者</text>
      <view class="participants-list">
        <view class="participant-item" wx:for="{{participants}}" wx:key="openId">
          <image class="avatar" src="{{item.avatarUrl}}" />
          <text class="nickname">{{item.nickName}}</text>
        </view>
      </view>
    </view>
  </view>

  <!-- 底部操作按钮 -->
  <view class="action-buttons">
    <block wx:if="{{!isCreator && !hasJoined}}">
      <button class="join-btn" bindtap="joinEvent" disabled="{{!canJoin}}">
        {{canJoin ? '加入活动' : '人数已满'}}
      </button>
    </block>
    
    <block wx:if="{{hasJoined || isCreator}}">
      <view class="button-group">
        <button class="action-btn quit-btn" bindtap="quitEvent">
          <image class="btn-icon" src="/images/quit.png" />
          退出
        </button>
        <button class="action-btn share-btn" open-type="share">
          <image class="btn-icon" src="/images/share.png" />
          分享
        </button>
        <button class="action-btn gugu-btn" bindtap="guguEvent">
          <image class="btn-icon" src="/images/gugu.png" />
          咕咕
        </button>
      </view>
    </block>
  </view>
</view> 