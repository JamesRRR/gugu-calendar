<view class="event-container">
  <!-- äº‹ä»¶å¡ç‰‡ -->
  <view class="event-card">
    <view class="event-title">{{event.title}}</view>
    
    <!-- åŸºæœ¬ä¿¡æ¯åŒºåŸŸ -->
    <view class="info-section">
      <view class="info-item">
        <text class="icon">ğŸ•’</text>
        <text>{{event.date}} {{event.time}}</text>
      </view>
      <view class="info-item">
        <text class="icon">ğŸ“</text>
        <text>{{event.location}}</text>
      </view>
      <view class="info-item">
        <text class="icon">ğŸ‘¥</text>
        <text>{{event.participants.length}}{{event.maxParticipants ? '/' + event.maxParticipants : ''}} äººå‚åŠ </text>
      </view>
    </view>

    <!-- è¯¦ç»†æè¿° -->
    <view class="description-section">
      <text class="description-title">æ´»åŠ¨è¯¦æƒ…</text>
      <text class="description-content">{{event.description}}</text>
    </view>

    <!-- å‚ä¸è€…åˆ—è¡¨ -->
    <view class="participants-section">
      <text class="section-title">å‚ä¸è€…</text>
      <view class="participants-list">
        <view class="participant-item" wx:for="{{participants}}" wx:key="openId">
          <text class="avatar">ğŸ‘¤</text>
          <text class="nickname">{{item.nickName || 'ç”¨æˆ·' + index}}</text>
        </view>
      </view>
    </view>
  </view>

  <!-- åº•éƒ¨æ“ä½œæŒ‰é’® -->
  <view class="action-buttons">
    <!-- å¦‚æœæ˜¯åˆ›å»ºè€… -->
    <block wx:if="{{isCreator}}">
      <button class="action-btn" bindtap="guguEvent">
        <text class="iconfont">âŒ</text>
        <text>å’•å’•</text>
      </button>
    </block>
    
    <!-- å¦‚æœä¸æ˜¯åˆ›å»ºè€… -->
    <block wx:else>
      <button class="action-btn" bindtap="joinEvent" wx:if="{{!hasJoined && canJoin}}">
        <text class="iconfont">âœ…</text>
        <text>åŠ å…¥</text>
      </button>
      <button class="action-btn" bindtap="quitEvent" wx:if="{{hasJoined}}">
        <text class="iconfont">ğŸš«</text>
        <text>é€€å‡º</text>
      </button>
    </block>
    
    <button class="action-btn share-btn" open-type="share">
      <text class="iconfont">ğŸ“¢</text>
      <text>åˆ†äº«</text>
    </button>
  </view>
</view> 