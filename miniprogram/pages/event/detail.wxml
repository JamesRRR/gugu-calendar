<view class="container">
  <view class="event-card">
    <view class="event-header">
      <text class="event-title">{{event.title}}</text>
      <text class="event-status {{event.is_cancelled ? 'cancelled' : ''}}">
        {{event.is_cancelled ? '已取消' : '进行中'}}
      </text>
    </view>

    <view class="event-info">
      <view class="info-item">
        <text class="label">活动时间</text>
        <text class="content">{{event.event_date}}</text>
      </view>
      
      <view class="info-item">
        <text class="label">活动描述</text>
        <text class="content">{{event.description}}</text>
      </view>

      <view class="info-item">
        <text class="label">参与人数</text>
        <text class="content">{{event.participant_count}}人</text>
      </view>
    </view>

    <view class="action-buttons">
      <block wx:if="{{!event.is_cancelled}}">
        <button 
          class="action-btn share-btn" 
          bindtap="shareEvent"
          wx:if="{{isCreator}}">
          分享
        </button>
        <button 
          class="action-btn gugu-btn" 
          bindtap="guguEvent"
          wx:if="{{!isCreator && hasJoined}}">
          咕咕
        </button>
        <button 
          class="action-btn {{hasJoined ? 'quit-btn' : 'join-btn'}}" 
          bindtap="toggleJoin">
          {{hasJoined ? '退出活动' : '加入活动'}}
        </button>
      </block>
      <text class="cancelled-text" wx:else>该活动已被取消</text>
    </view>
  </view>
</view> 