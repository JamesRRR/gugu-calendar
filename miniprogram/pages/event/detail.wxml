<view class="event-container">
  <!-- 事件卡片 -->
  <view class="event-card">
    <view class="event-title">{{event.title}}</view>
    
    <!-- 基本信息区域 -->
    <view class="info-section">
      <view class="info-item">
        <text class="icon">🕒</text>
        <text>{{event.date}} {{event.time}}</text>
      </view>
      <view class="info-item">
        <text class="icon">📍</text>
        <text>{{event.location}}</text>
      </view>
      <view class="info-item">
        <text class="icon">👥</text>
        <text>{{event.participants.length}}{{event.maxParticipants ? '/' + event.maxParticipants : ''}} 人参加</text>
      </view>
    </view>

    <!-- 详细描述 -->
    <view class="description-section">
      <text class="description-title">活动详情</text>
      <text class="description-content">{{event.description}}</text>
    </view>

    <!-- 参与者列表 -->
    <view class="participants-section">
      <text class="section-title">参与者</text>
      <view class="participants-list">
        <view class="participant-item" wx:for="{{participants}}" wx:key="openId">
          <text class="avatar">👤</text>
          <text class="nickname">{{item.nickName || '用户' + index}}</text>
        </view>
      </view>
    </view>
  </view>

  <!-- 底部操作按钮 -->
  <view class="action-buttons">
    <!-- 如果是创建者 -->
    <block wx:if="{{isCreator}}">
      <button class="action-btn" bindtap="guguEvent">
        <text class="iconfont">❌</text>
        <text>咕咕</text>
      </button>
    </block>
    
    <!-- 如果不是创建者 -->
    <block wx:else>
      <button class="action-btn" bindtap="joinEvent" wx:if="{{!hasJoined && canJoin}}">
        <text class="iconfont">✅</text>
        <text>加入</text>
      </button>
      <button class="action-btn" bindtap="quitEvent" wx:if="{{hasJoined}}">
        <text class="iconfont">🚫</text>
        <text>退出</text>
      </button>
    </block>
    
    <button class="action-btn share-btn" open-type="share">
      <text class="iconfont">📢</text>
      <text>分享</text>
    </button>
  </view>
</view> 