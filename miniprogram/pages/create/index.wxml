<view class="create-container">
  <form bindsubmit="submitForm">
    <!-- 基本信息 -->
    <view class="form-card">
      <view class="form-title">基本信息</view>
      
      <view class="form-item">
        <text class="label required">活动名称</text>
        <input name="title" placeholder="请输入活动名称" value="{{formData.title}}" bindinput="onTitleInput" />
      </view>

      <view class="form-item">
        <text class="label required">开始时间</text>
        <view class="time-container">
          <picker mode="date" value="{{formData.startDate}}" bindchange="onStartDateChange">
            <view class="picker {{formData.startDate ? '' : 'picker-placeholder'}}">
              {{formData.startDate || '选择日期'}}
            </view>
          </picker>
          <picker mode="time" value="{{formData.startTime}}" bindchange="onStartTimeChange">
            <view class="picker {{formData.startTime ? '' : 'picker-placeholder'}}">
              {{formData.startTime || '选择时间'}}
            </view>
          </picker>
        </view>
      </view>

      <view class="form-item">
        <text class="label">结束时间（可选）</text>
        <view class="time-container">
          <picker mode="date" value="{{formData.endDate}}" bindchange="onEndDateChange">
            <view class="picker {{formData.endDate ? '' : 'picker-placeholder'}}">
              {{formData.endDate || '选择日期'}}
            </view>
          </picker>
          <picker mode="time" value="{{formData.endTime}}" bindchange="onEndTimeChange">
            <view class="picker {{formData.endTime ? '' : 'picker-placeholder'}}">
              {{formData.endTime || '选择时间'}}
            </view>
          </picker>
        </view>
      </view>
    </view>

    <!-- 活动设置 -->
    <view class="form-card">
      <view class="form-title">活动设置</view>

      <view class="form-item">
        <text class="label required">活动地点</text>
        <view class="location-picker" bindtap="chooseLocation">
          <text class="{{formData.location.name ? '' : 'location-placeholder'}}">
            {{formData.location.name || '点击选择地点'}}
          </text>
          <text class="icon">📍</text>
        </view>
      </view>

      <view class="form-item">
        <text class="label">人数限制</text>
        <input type="number" name="maxParticipants" placeholder="不填则不限制人数" value="{{formData.maxParticipants}}" />
      </view>

      <view class="form-item">
        <text class="label">咕咕点数要求</text>
        <view class="slider-container">
          <view class="slider-value">{{formData.regretPointsRequired}} 点</view>
          <slider 
            min="1" 
            max="10" 
            value="{{formData.regretPointsRequired}}" 
            activeColor="#07c160"
            block-color="#07c160"
            show-value="{{false}}"
            bindchange="onRegretPointsChange" 
          />
        </view>
        <text class="tips">咕咕活动将扣除对应点数</text>
      </view>
    </view>

    <!-- 活动详情 -->
    <view class="form-card">
      <view class="form-title">活动详情</view>
      
      <view class="form-item">
        <text class="label">活动简介</text>
        <textarea 
          name="description" 
          placeholder="请输入活动简介（最多500字）" 
          maxlength="500" 
          value="{{formData.description}}" 
          bindinput="onDescriptionInput"
        />
        <text class="word-count">{{descriptionLength}}/500</text>
      </view>
    </view>

    <button class="submit-btn" form-type="submit">创建活动</button>
  </form>
</view> 