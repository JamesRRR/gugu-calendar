<view class="joined-container">
  <!-- 顶部标题 -->
  <view class="header">
    <image class="header-icon" src="/images/heart.png" />
    <text class="header-text">我的活动</text>
  </view>

  <!-- 加载中显示 -->
  <view class="loading" wx:if="{{loading}}">
    <image class="loading-icon" src="/images/loading.gif" />
  </view>

  <!-- 活动列表 -->
  <view class="events-list" wx:else>
    <view class="event-card" wx:for="{{joinedEvents}}" wx:key="_id" bindtap="goToEventDetail" data-id="{{item._id}}">
      <view class="event-header">
        <image class="event-type-icon" src="/images/event-types/{{item.type}}.png" />
        <text class="event-title">{{item.title}}</text>
      </view>
      
      <view class="event-info">
        <view class="info-item">
          <image class="info-icon" src="/images/time.png" />
          <text class="info-text">{{item.startTime}}</text>
        </view>
        
        <view class="info-item">
          <image class="info-icon" src="/images/location.png" />
          <text class="info-text">{{item.location}}</text>
        </view>

        <view class="info-item">
          <image class="info-icon" src="/images/people.png" />
          <text class="info-text">{{item.currentParticipants}}/{{item.maxParticipants}}人</text>
        </view>
      </view>
    </view>
  </view>

  <!-- 无数据显示 -->
  <view class="empty-state" wx:if="{{!loading && joinedEvents.length === 0}}">
    <image class="empty-icon" src="/images/empty.png" />
    <text class="empty-text">还没有参加活动哦~</text>
  </view>
</view> 