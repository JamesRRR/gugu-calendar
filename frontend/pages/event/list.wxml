<view class="list-container">
  <!-- é¡¶éƒ¨è£…é¥° -->
  <view class="header">
    <text class="header-title">æ´»åŠ¨åˆ—è¡¨</text>
    <text class="header-emoji">ğŸˆ</text>
  </view>

  <!-- æ´»åŠ¨åˆ—è¡¨ -->
  <view class="events-list" wx:if="{{!loading}}">
    <view class="event-item" wx:for="{{events}}" wx:key="_id" bindtap="goToEventDetail" data-id="{{item._id}}">
      <!-- å·¦ä¾§æ—¶é—´æ˜¾ç¤º -->
      <view class="time-block">
        <text class="date">{{item.startTime.date}}</text>
        <text class="time">{{item.startTime.time}}</text>
      </view>

      <!-- å³ä¾§å†…å®¹ -->
      <view class="content-block">
        <view class="title-row">
          <text class="category-emoji">{{item.categoryEmoji}}</text>
          <text class="title">{{item.title}}</text>
        </view>

        <view class="info-row">
          <text class="location-emoji">ğŸ“</text>
          <text class="location">{{item.location}}</text>
        </view>

        <view class="footer-row">
          <view class="participants">
            <text class="people-emoji">ğŸ‘¥</text>
            <text class="count">{{item.currentParticipants}}/{{item.maxParticipants}}äºº</text>
          </view>
          <view class="status-tag {{item.status}}">{{item.statusText}}</view>
        </view>
      </view>
    </view>
  </view>

  <!-- åŠ è½½ä¸­çŠ¶æ€ -->
  <view class="loading-container" wx:if="{{loading}}">
    <view class="loading-dots">
      <view class="dot"></view>
      <view class="dot"></view>
      <view class="dot"></view>
    </view>
    <text class="loading-text">åŠ è½½ä¸­...</text>
  </view>

  <!-- ç©ºçŠ¶æ€ -->
  <view class="empty-container" wx:if="{{!loading && events.length === 0}}">
    <text class="empty-emoji">ğŸª</text>
    <text class="empty-text">è¿˜æ²¡æœ‰æ´»åŠ¨å‘¢~</text>
    <text class="empty-subtext">å¿«å»å‚åŠ ä¸€ä¸ªå§ï¼</text>
  </view>
</view> 